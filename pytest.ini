[pytest]
# Collect tests only from these folders by default
# This makes a plain `pytest` run equivalent to
#     pytest src/tests/unit src/tests/integration
testpaths =
    src/tests/unit
    src/tests/integration

# Default command-line switches applied to every test run
#   -ra            : show a short summary for skipped/xfail/etc.
#   --strict-config: error on unknown ini keys
#   --log-cli-level: stream log output >= WARNING while tests run
addopts = -ra --strict-config --log-cli-level=WARNING

# pytest-asyncio setting – makes missing @pytest.mark.asyncio an error
asyncio_mode = strict

# Centralised warnings policy – keep the test output clean but fail on resource leaks
filterwarnings =
    ignore::DeprecationWarning:fastmcp.*:
    error::ResourceWarning